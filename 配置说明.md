# 打印机配置功能说明

## 配置方式

现在这个EZAP 标签打印应用支持两种方式配置打印机IP和端口：

### 1. 前端Vue界面配置（推荐）

在Vue前端界面中：
- 点击"配置打印机"按钮
- 在弹出的配置面板中输入：
  - 打印机IP地址（如：192.168.1.100）
  - 端口号（如：9100）
- 点击"保存配置"按钮

### 2. 原生HTML界面配置

在原生HTML界面中：
- 点击"配置打印机"按钮
- 使用系统弹窗输入IP地址和端口号
- 配置会自动保存

## 配置存储

- 配置信息使用Android SharedPreferences存储
- 存储键名：
  - `printer_ip`: 打印机IP地址
  - `printer_port`: 打印机端口号
- 默认值：IP=192.168.1.100, 端口=9100

## 配置API

### JavaScript接口

```javascript
// 设置打印机配置
Android.setPrinterConfig(JSON.stringify({
    ip: "192.168.1.100",
    port: 9100
}));

// 获取当前配置
const config = Android.getPrinterConfig();
```

### Java接口

```java
// 设置配置
printHelper.setConfigFromJson(configJson);

// 获取配置
String config = printHelper.getConfigAsJson();
```

## 配置验证

- IP地址格式验证（前端）
- 端口号范围验证（1-65535）
- 配置保存后立即生效
- 应用重启后配置自动加载

## 使用流程

1. 首次启动应用，使用默认配置
2. 点击"配置打印机"按钮
3. 输入正确的打印机IP和端口
4. 保存配置
5. 点击"连接打印机"测试连接
6. 连接成功后即可进行打印操作

## 注意事项

- 确保打印机和Android设备在同一网络
- 打印机需要支持ESC/POS协议
- 配置保存后需要重新连接打印机才能生效
- 建议在连接前先测试网络连通性
